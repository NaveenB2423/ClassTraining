{% extends 'home/commons/main.html' %}
{% load static %}
{% block content %}

<style>
/* ===== CART PAGE UI IMPROVEMENTS ===== */
.cart-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.06);
    padding: 25px;
}

.cart-title {
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 20px;
}

.cart-table th {
    font-size: 14px;
    color: #777;
    text-transform: uppercase;
    border-bottom: 2px solid #eee;
}

.cart-table td {
    vertical-align: middle;
    padding: 18px 10px;
}

.cart-img {
    width: 80px;
    height: 80px;
    border-radius: 10px;
    object-fit: cover;
    border: 1px solid #eee;
}

.qty-box {
    display: flex;
    align-items: center;
    border: 1px solid #ddd;
    border-radius: 8px;
    width: 120px;
    overflow: hidden;
}

.qty-box button {
    width: 35px;
    height: 35px;
    border: none;
    background: #f5f5f5;
    font-size: 18px;
}

.qty-box input {
    width: 50px;
    border: none;
    text-align: center;
}

.price {
    font-weight: 600;
}

.cart-summary {
    position: sticky;
    top: 90px;
}

.summary-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 15px;
}

.summary-total {
    font-size: 20px;
    font-weight: 700;
}

.checkout-btn {
    width: 100%;
    padding: 14px;
    border-radius: 30px;
    background: #222;
    color: #fff;
    font-weight: 600;
    border: none;
}

.checkout-btn:hover {
    background: #000;
}

.coupon-box {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

.coupon-box input {
    flex: 1;
    padding: 12px;
    border-radius: 30px;
    border: 1px solid #ddd;
}

.coupon-box button {
    padding: 12px 25px;
    border-radius: 30px;
    background: #eee;
    border: none;
}
</style>

<!-- Breadcrumb -->
<div class="container mt-4">
    <div class="bread-crumb">
        <a href="/" class="text-muted">Home</a>
        <span class="mx-2">›</span>
        <span class="fw-bold">Shopping Cart</span>
    </div>
</div>

<form class="mt-4">
<div class="container">
    <div class="row">

        <!-- CART ITEMS -->
        <div class="col-lg-8 mb-4">
            <div class="cart-card">
                <h3 class="cart-title">Your Cart</h3>

                <table class="table cart-table">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th></th>
                            <th>Price</th>
                            <th>Qty</th>
                            <th>Total</th>
                        </tr>
                    </thead>

                    <tbody>
                    {% for cart in carts %}
                        <tr>
                            <td>
                                <img src="{{ cart.variant.product.image.url }}" class="cart-img">
                            </td>

                            <td>
                                <strong>{{ cart.variant.product.name }}</strong>
                            </td>

                            <td class="price">
                                ₹{{ cart.variant.product.discount_price }}
                            </td>

                            <td>
                                <div class="qty-box">
                                    <button type="button">−</button>
                                    <input type="number" value="{{ cart.qty }}">
                                    <button type="button">+</button>
                                </div>
                            </td>

                            <td class="price">
                                ₹{{ cart.price }}
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>

                <div class="coupon-box">
                    <input type="text" placeholder="Coupon code">
                    <button type="button">Apply</button>
                </div>
            </div>
        </div>

        <!-- CART SUMMARY -->
        <div class="col-lg-4">
            <div class="cart-card cart-summary">
                <h3 class="cart-title">Order Summary</h3>

                <div class="summary-row">
                    <span>Subtotal</span>
                    <span>₹{{ total_amount }}</span>
                </div>

                <div class="summary-row">
                    <span>Shipping</span>
                    <span class="text-muted">Free</span>
                </div>

                <hr>

                <div class="summary-row summary-total">
                    <span>Total</span>
                    <span>₹{{ total_amount }}</span>
                </div>

                <button class="checkout-btn mt-4">
                    Proceed to Checkout
                </button>
            </div>
        </div>

    </div>
</div>
</form>

{% endblock %}
